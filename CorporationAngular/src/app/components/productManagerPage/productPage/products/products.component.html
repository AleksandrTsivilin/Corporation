<ng-template #toMoveNextPage>
  <div [ngSwitch]="pageState.path"
  class="h-full" >
    <app-edit-product
      *ngSwitchCase="'editProduct'"
      [newProductForm]="newProductForm"
      (updateProduct)="update($event)"
      (close)="closeEditPage()"
    >     
    </app-edit-product> 
    <app-loading-page
      *ngSwitchCase="'loadingPage'"
      [title]="'products'"
    >
    </app-loading-page> 
    <app-responce500
      *ngSwitchCase="'responce500'"
      
    >
    </app-responce500>
  </div>
</ng-template>







<!-- <ng-template #toUpdateForm >
  <app-edit-product
    [newProductForm]="newProductForm"
    (updateProduct)="update($event)"
    (close)="closeEditPage()"
  >     
  </app-edit-product>
</ng-template> -->




<div class="flex flex-col h-full " *ngIf="pageState.isActive else toMoveNextPage">
  <div class="flex overflow-auto">
    <table class="relative w-full border table">
      <thead>
        <tr>
          <th           
            class="sticky top-0 px-6 py-3 text-red-900 bg-red-300 header"
            *ngFor="let header of headersTable"
            (click)=sortCol(header.title)
            [ngClass]="{'active-header':header.isActive}"
          >
            
              {{header.title}}
            
          </th>    
          
        </tr>
      </thead>
      <tbody class="divide-y bg-red-100">
        <tr app-product-item       
          *ngFor="let productInfo of productsInfo let i=index"
          [ngClass]="{'product-item-warning':productInfo.isBanned}"
          [numProduct]="i+1"
          [productInfo]="productInfo" 
          [avaiablesPermissions]="avaiablesPermissions"
          (edit)="startEdit(productInfo)"
          (remove)="remove(productInfo)"        
        >  
        </tr>    
      </tbody>
    </table>
  </div>
</div>            