 



<div class="dialog-page">
    
    <div class="dialog" *ngIf="pageState.isActive else toAddGroup">
        <div class="btn-section">
            <button 
                class="btn"
                (click)="closeEditPage()"
            >
                ‚ùå
            </button>
        </div>
        
            
        <div class="header"><h1>edit product</h1></div>
        <div class=""> 
        <form
            class="form-add-product "
            
            (ngSubmit)="onSubmit()"         

        > 
    
        <div class="form-group">
            <label>manufacturer</label>
                <div class="section">
                    <select 
                        class="form-group"
                        [(ngModel)]="newProductForm.manufacturerId"
                        name="manufacturers"
                    >
                    
                        <option 
                            *ngFor="let manufacturer of manufacturers"
                            [value]="manufacturer.id"
                            name="manufacturer"
                        >
                            {{manufacturer.title}}
                        </option>
                        
                    </select>
                    <button type="button" (click)="startAddGroup('manufacturer')">Add</button>
                </div>
        
        
            </div>
            <div class="form-group">
                <label>category</label>
                <div class="section">
                    <select 
                        class="form-group"
                        [(ngModel)]="newProductForm.categoryId"
                            
                        name="categories"
                    >
            
                        <option 
                            *ngFor="let category of categories"
                            [value]="category.id"
                            name="category"
                        >
                            {{category.title}}
                        </option>
                    </select>
                    <button type="button" (click)="startAddGroup('category')">Add</button>
                </div>
        
            
                </div>
                <div class="form-group">
                <label>unit</label>
                <div class="section">
                    <select 
                        class="form-group"
                        [(ngModel)]="newProductForm.unitId"
                            
                        name="units"
                    >
                    
                        <option 
                            *ngFor="let unit of units"
                            [value]="unit.id"
                            name="unit"
                        >
                            {{unit.title}}
                        </option>
                    </select>
                    <button type="button" (click)="startAddGroup('unit')">Add</button>
                </div>
            
            
            </div>
            <div class="form-group">
                <label>title</label>
                <input 
                    class="form-group"
                    type="text"
                    [(ngModel)]="newProductForm.title"
                    name="formAddProduct.title" 
                    
                >
                
            </div>
            <div class="form-group">
                <label>price</label>
                <input
                    class="form-group"
                    type="text"
                    [(ngModel)]="newProductForm.price"
                    name="price"
                >
            
            </div>
            <!-- <div class="form-group">
                <label>count</label>
                <input
                    class="form-group"
                    type="text"
                    [(ngModel)]="newProductForm.count"
                    name="avaiableCount"
                >
                
            </div> -->
            <div class="form-group">
                <button 
                    class="btn-submit" 
                    type="submit"
                >save changes</button>
            </div>      
    
        </form>
       </div>
        
        
        
    </div>
    
</div>

<ng-template #toAddGroup>
    <div [ngSwitch]="pageState.path">
        <app-add-manufacturer
            *ngSwitchCase="'manufacturer'"
            (addManufacturer)="addedGroup()"
        ></app-add-manufacturer>
        <app-add-category
            *ngSwitchCase="'category'"
            (addCategory)="addedGroup()"
        ></app-add-category>
        <app-add-unit
            *ngSwitchCase="'unit'"
            (addUnit)="addedGroup()"
        ></app-add-unit>
    </div>
    
</ng-template> 
